package cryptix.module.exploit;

import java.util.Arrays;
import java.util.List;
import java.util.Set;
import java.util.stream.Collectors;

import cryptix.module.Category;
import cryptix.module.Module;
import cryptix.utils.Utils;
import net.minecraft.client.Minecraft;
import net.minecraft.client.network.NetworkPlayerInfo;
import net.minecraft.entity.player.EntityPlayer;

public class StaffDetector extends Module {

    public StaffDetector() {
        super("StaffDetector", 0, Category.EXPLOIT);
    }

    @Override
    public void onPreMotion() {
        if (mc.theWorld == null || mc.thePlayer == null) return;

        List<String> tabListPlayers = mc.getNetHandler().getPlayerInfoMap().stream()
                .map(NetworkPlayerInfo::getGameProfile)
                .map(gameProfile -> gameProfile.getName())
                .collect(Collectors.toList());

        for (EntityPlayer player : mc.theWorld.playerEntities) {
            if (!tabListPlayers.contains(player.getName()) && !player.getName().equalsIgnoreCase("SHOP") && !player.getName().equalsIgnoreCase("UPGRADES") && player != mc.thePlayer) {
                Utils.sendClientChatMessage("Player not in tab: " + player.getName());
            }
        }
    }
}
